<nz-drawer [nzVisible]="editingUser !== null" nzWidth="640" nzClosable="false" (nzOnClose)="closeDrawer()">
  <form nz-form [formGroup]="editForm" (ngSubmit)="submitForm()">
    <div nz-row nzGutter="12" style="margin: -10px -10px -10px -10px;" class="flex items-center">
      <div nz-col nzSpan="6" class="flex-1">
        <span class="text-gray-600">User #{{editingUser?.id}}</span>
      </div>
      <div nz-col nzSpan="6" nzOffset="4" class="flex-1">
        <button type="reset" nz-button nzBlock nzType="default" style="border-color: #faad14; color: #faad14" (click)="this.editForm.reset()">
          <i nz-icon nzType="undo" nzTheme="outline"></i>Reset
        </button>
      </div>
      <div nz-col nzSpan="8" class="flex-1">
        <button type="button" nz-button nzDanger nzBlock nzType="default" (click)="deleteUser()">
          <i nz-icon nzType="delete" nzTheme="outline"></i>Delete User
        </button>
      </div>
    </div>
    <nz-divider></nz-divider>
    <div nz-row style="height: 64px;" class="flex items-center">
      <div nz-col nzSpan="15" class="flex-1">
        <h4 class="inline-block items-center" nz-typography>Main User Information</h4>
      </div>
      <div nz-col nzSpan="4" nzOffset="5" class="flex-1">
        <nz-avatar style="width: 48px; height: 48px;" [nzSrc]="editForm.controls['avatar'].value"></nz-avatar>
      </div>
    </div>
    <div class="mt-4">
      <div nz-row nzGutter="8">
        <div nz-col nzSpan="9">
          <nz-form-item>
            <nz-form-label nzNoColon="true">
              <i nz-icon nzType="user" nzTheme="outline"></i>
            </nz-form-label>
            <nz-form-control>
              <input nz-input placeholder="First Name" formControlName="firstName"/>
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col nzSpan="14">
          <nz-form-item>
            <nz-form-control>
              <input nz-input placeholder="Last Name" formControlName="lastName"/>
            </nz-form-control>
          </nz-form-item>
        </div>
      </div>
      <div nz-row>
        <div nz-col nzSpan="23">
          <nz-form-item>
            <nz-form-label nzNoColon="true">
              <i nz-icon nzType="mail" nzTheme="outline"></i>
            </nz-form-label>
            <nz-form-control>
              <nz-input-group [nzAddOnAfter]="copymail">
                <input nz-input placeholder="Email address" formControlName="email"/>
              </nz-input-group>
            </nz-form-control>
          </nz-form-item>
        </div>
      </div>
      <div nz-row>
        <div nz-col nzSpan="23">
          <nz-form-item>
            <nz-form-label nzNoColon="true">
              <i nz-icon nzType="picture" nzTheme="outline"></i>
            </nz-form-label>
            <nz-form-control>
              <nz-input-group [nzAddOnAfter]="copyavatar">
                <input nz-input placeholder="Profile Avatar URL" formControlName="avatar"/>
              </nz-input-group>
            </nz-form-control>
          </nz-form-item>
        </div>
      </div>
      <div nz-row>
        <div nz-col nzSpan="23">
          <nz-form-item>
            <nz-form-label nzNoColon="true">
              <i nz-icon nzType="lock" nzTheme="outline"></i>
            </nz-form-label>
            <nz-form-control>
              <nz-input-group [nzSuffix]="togglePassword">
                <input nz-input [type]="passwordVisible ? 'text' : 'password'" placeholder="Edit the Password"
                       formControlName="password"/>
              </nz-input-group>
            </nz-form-control>
          </nz-form-item>
        </div>
      </div>
      <div nz-row>
        <div nz-col nzSpan="5" nzOffset="18">
          <button type="submit" [disabled]="!editForm.valid" nz-button [nzLoading]="submittingState" nzBlock
                  nzType="primary"
                  style="background-color: #52c41a; border-color: #52c41a">Save
          </button>
        </div>
      </div>
    </div>
    <nz-divider></nz-divider>
    <!--<h4 nz-typography>Utility Options</h4>-->
  </form>
  <ng-template #copymail>
    <i nz-icon nzType="copy" nzTheme="outline" nz-tooltip nzTooltipTitle="Copied!" nzTooltipTrigger="click"
       [cdkCopyToClipboard]="editForm.controls['email'].value"></i>
  </ng-template>
  <ng-template #copyavatar>
    <i nz-icon nzType="copy" nzTheme="outline" nz-tooltip nzTooltipTitle="Copied!" nzTooltipTrigger="click"
       [cdkCopyToClipboard]="editForm.controls['avatar'].value"></i>
  </ng-template>
  <ng-template #togglePassword>
    <i nz-icon [nzType]="passwordVisible ? 'eye-invisible' : 'eye'" (click)="passwordVisible = !passwordVisible"></i>
  </ng-template>
</nz-drawer>
